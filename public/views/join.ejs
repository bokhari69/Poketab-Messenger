<!DOCTYPE html>
<html lang="en">
<head>
    <%- include('layout/entryheader.ejs') %> 
    <script defer src="/scripts/join.min.js?v=5"></script>
</head>
<body>
    <div class="container">
        <form class="form" id="form" action="/chat" method="post">
            <div class="subform" id="form1">
                <div class="title">
                    <div>Join a chat</div>
                    <img src="data:image/png;base64,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" height="40px" width="40px" alt="logo">
                </div>
                <div class="form-field">
                    <label for="key" id="label"><%-key_label%></label>
                    <div id="keyErr" class="errLog"></div>
                    <% if (key) { %>
                        <input type="text" autocomplete="off" name="key" id="key" placeholder="xxx-xxx-xxx-xxx" value="<%=key_%>">
                    <% } else { %>
                        <input type="text" class="select" autocomplete="off" name="key" id="key" placeholder="xxx-xxx-xxx-xxx">
                    <% } %>
                </div>
                <div class="form-field">
                    <button id="next" class="clickable" type="button">Next</button>
                </div>
                <div class="redirect">
                    <fieldset>
                        <legend>Or</legend>
                        <a id="redirect" class="noSelect clickable" href="/create">Create chat</a>
                    </fieldset>
                </div>
            </div>
            <div class="subform" id="form2">
                <div class="form-field">
                    <label for="username">Choose username <i class="fa-solid fa-id-card-clip"></i></label>
                    <div id="usernameErr" class="errLog"></div>
                    <input type="text" class="select" autocomplete="off" name="username" id="username" placeholder="Username">
                </div>
                <div class="form-field avatar-field">
                    <label for="avatar">Choose avatar <i class="fa-solid fa-user-astronaut"></i></label>
                    <div id="avatarErr" class="errLog"></div>
                    <div class="avatar-container">
                        <%- include ('layout/avatars.ejs') %> 
                    </div>
                </div>
                <div class="form-field">
                    <button id="enter" class="clickable" type="submit">Enter Chat</button>
                </div>
            </div>
        </>
    </div>
    <fieldset class="howtouse line"> 
        <legend class="h1">How to use</legend>
        <ul>
            <li>Paste the copied <b>Key</b> and Create an <b>username</b> and choose <b>avatar.</b> </li>
            <li><b>Username</b> cannot contain Space and special charecters.</li>
            <li>Chats will be deleted after you disconnect or exit</li>
            <li>We don't have any database. So, your data won't be stored anywhere.</li>
            <li>Messages are end-to-end encrypted.</li>
        </ul>
    </fieldset>
    <%- include ('layout/entryfooter.ejs') %>
    <% if (key) { %>
        <script>
            window.addEventListener('DOMContentLoaded', function() {
                document.getElementById('next').click();
            });
        </script>
    <% } %>
</body>
</html>